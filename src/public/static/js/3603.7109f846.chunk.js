"use strict";(self.webpackChunkubold_react=self.webpackChunkubold_react||[]).push([[3603],{73603:function(e,t,n){n.r(t);var r=n(4942),a=n(1413),c=n(15861),s=n(29439),o=n(64687),i=n.n(o),u=n(72791),l=n(89743),p=n(2677),f=n(9140),h=n(43360),m=n(94960),d=n(75184),j=n(38459),v=n(83349),x=n(57689),b=n(12610),y=n(9478),Z=n(80184);(0,b.createBrowserHistory)();t.default=function(){var e=(0,u.useState)({title:"",companyName:"",state:"Planning",shortDesc:"",teamMembers:[]}),t=(0,s.Z)(e,2),n=t[0],o=t[1],b=(0,u.useState)([]),w=(0,s.Z)(b,2),C=w[0],g=w[1],P=(0,u.useState)([]),N=(0,s.Z)(P,2),k=N[0],E=N[1];(0,u.useEffect)((function(){fetch("".concat(y.Z.API_URL,"/memberType")).then((function(e){return e.json()})).then(g)}),[]);var S=(0,x.UO)().id;(0,u.useEffect)((function(){(0,v.Rp)(S).then((function(e){o({title:e.title||"",companyName:e.companyName||"",state:e.state||"Planning",shortDesc:e.shortDesc||"",teamMembers:e.teamMembers||[]}),E(e.teamMembers||[])}))}),[S]);var M=function(){var e=(0,c.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!S){e.next=6;break}return e.next=4,(0,v.ty)(S,n).then((function(){window.location.href="/apps/projects/list"}));case 4:e.next=8;break;case 6:return e.next=8,(0,v.$L)(n).then((function(){window.location.href="/apps/projects/list"}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(e){var t=e.target,c=t.name,s=t.value;o((0,a.Z)((0,a.Z)({},n),{},(0,r.Z)({},c,s)))};return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(d.Z,{breadCrumbItems:[{label:"Projects",path:"/apps/projects/list"},{label:S?"Edit Project":"Create Project",path:S?"/apps/projects/".concat(S,"/edit"):"/apps/projects/create",active:!0}],title:S?"Edit Project":"Create Project"}),(0,Z.jsx)(l.Z,{children:(0,Z.jsx)(p.Z,{children:(0,Z.jsx)(f.Z,{children:(0,Z.jsxs)(f.Z.Body,{children:[(0,Z.jsx)(l.Z,{children:(0,Z.jsxs)(p.Z,{xl:12,children:[(0,Z.jsx)(j.y,{name:"title",label:"Project Name",placeholder:"Enter project name",containerClass:"mb-3",value:n.title,onChange:D},"title"),(0,Z.jsx)(j.y,{name:"companyName",label:"Company Name",placeholder:"Enter company name",containerClass:"mb-3",value:n.companyName,onChange:D},"name"),(0,Z.jsxs)(j.y,{label:"Project Status",type:"select",name:"state",placeholder:"Select Project Status",containerClass:"mb-3",value:n.state,onChange:D,children:[(0,Z.jsx)("option",{value:"Planning",children:"Planning"}),(0,Z.jsx)("option",{value:"Ongoing",children:"On Going"}),(0,Z.jsx)("option",{value:"Finished",children:"Finished"})]},"state"),(0,Z.jsx)(j.y,{name:"shortDesc",label:"Project Overview",placeholder:"Enter some brief about project..",type:"textarea",rows:"5",containerClass:"mb-3",value:n.shortDesc,onChange:D},"overview"),(0,Z.jsx)("label",{children:"Team Member's"}),(0,Z.jsx)(m.pY,{id:"teamMembers",labelKey:"name",multiple:!0,options:n.teamMembers.concat(C)||[],selected:k,onChange:function(e){E(e),o((0,a.Z)((0,a.Z)({},n),{},{teamMembers:e}))}})]})}),(0,Z.jsx)(l.Z,{className:"mt-2",children:(0,Z.jsxs)(p.Z,{className:"text-center",children:[(0,Z.jsxs)(h.Z,{variant:"success",className:"waves-effect waves-light m-1",onClick:M,children:[(0,Z.jsx)("i",{className:"fe-check-circle me-1"})," ",S?"Update":"Create"]}),(0,Z.jsxs)(h.Z,{variant:"light",className:"waves-effect waves-light m-1",children:[(0,Z.jsx)("i",{className:"fe-x me-1"})," Cancel"]})]})})]})})})})]})}},83349:function(e,t,n){n.d(t,{$L:function(){return l},Rp:function(){return u},mW:function(){return i},th:function(){return f},ty:function(){return p}});var r=n(15861),a=n(64687),c=n.n(a),s=n(9478),o="".concat(s.Z.API_URL,"/project"),i=function(){var e=(0,r.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(o));case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=(0,r.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(o,"/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,r.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(o),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,r.Z)(c().mark((function e(t,n){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(o,"/").concat(t),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 2:return r=e.sent,e.abrupt("return",r.json());case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),f=function(){var e=(0,r.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(o,"/").concat(t),{method:"DELETE"});case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=3603.7109f846.chunk.js.map